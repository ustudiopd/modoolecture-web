# 완료된 작업 내역 (Progress)

## [2025-01-17]
- **질문 리스트 태그 표시 개선**: 17개 분류 태그 시스템 구현
  - 질문 카드에 `primary_topic`, `secondary_topics`, `intent` 태그 표시 (한글 변환)
  - 검색창 아래 9개 Topic 태그 필터 (none 제외)
  - `lib/types/question-tags.ts`에 `getTagLabel()` 함수 추가
  - `CategoryFilter` 컴포넌트에 한글 라벨 자동 변환 기능 추가
- **질문 모달 개선**: UI/UX 개선 및 기능 복원
  - 질문 ID 표시 제거 (`#b543ddd7` 형식)
  - 헤더에 17종 한글 태그 배치 (목록보기와 동일한 스타일)
  - 좋아요 숫자를 "이전 다음 |" 옆에 배치
  - 텍스트 크게보기/작게보기 기능 복원 (Type 아이콘 버튼)
  - 질문 변경 시 전체 콘텐츠(제목, 본문, 답변) 함께 업데이트
- **Gemini/GPT 답변별 좋아요 기능 복원**: 답변별 독립적인 좋아요 시스템
  - `modu_answer_likes` 테이블 생성 (마이그레이션)
  - `gemini_like_count`, `gpt_like_count` 컬럼 추가
  - `/api/answer-like` API 엔드포인트 생성
  - QuestionModal에 각 답변별 좋아요 버튼 추가 (전체 화면 모드 포함)
  - 세션 기반 중복 방지 (로그인/비로그인 모두 지원)
- **질문 본문 표시 버그 수정**: 새로고침 후 모달에서 콘텐츠 미표시 문제 해결
  - `ReadOnlyEditor`에 `key` prop 추가하여 content 변경 시 재마운트
  - `useMemo`로 콘텐츠 파싱 최적화
  - 모달 열림 시 콘텐츠 강제 파싱 로직 추가
- **최신등록순 기준 번호 추가**: 질문 제목 앞에 번호 표시
  - 질문 목록과 모달 모두에 번호 표시
  - 최신등록순(`created_at` 기준)으로 번호 매기기
  - DB에는 저장하지 않고 프론트엔드에서만 표시
- **모바일 최적화**: 모바일에서 전체 화면 세로 스크롤 지원
  - 모바일: 전체 화면 (`h-full`, `rounded-none`)
  - 데스크톱: 기존 16:9 비율 유지
  - 세로 스크롤 가능 (`overflow-y-auto`)
  - 헤더/푸터 sticky 고정
  - 푸터에 모바일용 이전/다음 버튼 추가
  - 답변 영역 모바일에서 세로 배치 (`grid-cols-1 md:grid-cols-2`)
  - 반응형 텍스트 크기 및 간격 조정

## [2025-01-16]
- **질문 뷰어(QuestionModal) 개선**: 사용자 경험 향상을 위한 기능 추가
  - 답변 블러 처리 및 "답변보기" 버튼: 모달 열릴 때 답변은 블러 처리되어 숨김, "답변보기" 버튼 클릭 시 표시
  - 답변보기 버튼 뒤 블러 처리된 답변 미리보기: 버튼 뒤에 흐릿한 답변 배경 표시
  - 답변 클릭 시 크게보기/작게보기: 답변 섹션 클릭 시 전체 화면 모드, ESC 키 또는 Minimize2 아이콘으로 복귀
  - 이전/다음 질문 네비게이션: 헤더에 이전/다음 버튼 추가, 화살표 키(← →)로 이동, 현재 질문 번호 표시
  - 질문 변경 시 전체 상태 리셋: 질문 ID 변경 시 showAnswers와 fullscreenAnswer 상태 초기화
- **질문 편집 페이지 개선**: 관리자 편의 기능 추가
  - 제목 다시 요약하기: 본문 내용을 Gemini 2.0 Flash로 요약하여 제목 자동 생성
  - 이전/다음 질문 네비게이션: 질문 편집 페이지에서 이전/다음 질문으로 이동
  - 삭제 기능: 저장 버튼 옆에 삭제 버튼 추가, 삭제 확인 모달 포함
  - 저장 버튼 텍스트 통일: "질문 저장" → "저장", "답변 저장" → "저장"
- **메인 페이지 개선**: 이벤트 입장 및 질문보드 연결
  - "라이브 입장하기" 버튼: 새창으로 https://must.ai.kr/webinar/7d4ad9e9-2f69-49db-87a9-8d25cb82edee 연결
  - "질문보기" 버튼 추가: 질문보드(/board/ai-2025)로 연결
  - Client Component로 변경: onClick 이벤트 처리를 위해 'use client' 추가
- **다크 테마 강제 적용**: 배포 환경에서도 다크 테마가 적용되도록 수정
  - `app/layout.tsx`: html과 body에 dark 클래스 추가, suppressHydrationWarning 추가
  - `app/globals.css`: color-scheme: dark 강제 설정, 배경색/텍스트 색상 !important로 강제 적용
  - `app/admin/events/[eventId]/questions/page.tsx`: 관리자 페이지 전체 다크 테마 적용 (테이블, 모달, 입력 필드 등)
- **Next.js 16 호환성 수정**: 동적 라우트 params를 Promise로 처리
  - `app/api/events/[slug]/route.ts`: params를 Promise로 변경
  - `app/api/admin/events/[id]/route.ts`: params를 Promise로 변경
  - `app/api/admin/questions/[id]/route.ts`: params를 Promise로 변경
  - `app/api/admin/questions/[id]/answers/route.ts`: params를 Promise로 변경
- **배포 환경 문제 진단**: 배포 환경에서 목록이 표시되지 않는 문제 분석 보고서 작성
  - `배포환경_목록_미표시_문제_보고서.md`: 환경 변수, API 라우트, Supabase 클라이언트 초기화 등 원인 분석 및 해결 방안 제시
- **질문 일괄 삽입 기능**: Markdown 파일에서 질문을 파싱하여 데이터베이스에 일괄 삽입하는 스크립트 구현
  - `scripts/bulk-insert-questions.ts`: YAML 프론트매터 형식의 질문 파싱 및 삽입
  - `scripts/delete-event-questions.ts`: 특정 이벤트의 모든 질문 삭제 스크립트
  - 177개 질문 일괄 삽입 완료 (ai-2025 이벤트)
- **질문 관리 화면 개선**: 관리자 화면에 답변 상태 필터 탭 추가
  - Gemini 답변 있음, GPT 답변 있음, 답변 없음 탭 추가
  - `app/admin/events/[eventId]/questions/page.tsx` 수정
- **질문 등록 폼 개선**: 이메일 필드 추가 및 마스킹 이름 필드 제거
  - 작성자 이름 아래에 이메일 입력 필드 추가
- **카테고리 필터 개선**: 검색창 아래 필터를 토픽 태그 10개로 변경
  - `lib/types/question-tags.ts`에 `getTopicFilterOptions()` 함수 추가
  - `app/board/[event]/page.tsx`에서 필터링 로직을 `primary_topic` 기준으로 변경
  - "없음" 태그 제외 및 버튼 크기 축소
- **QuestionCard 태그 표시 개선**: 관리 화면과 동일하게 모든 태그 표시
  - `primary_topic`, `secondary_topics`, `intent` 필드 모두 표시
  - 한글 변환 및 색상 구분 적용
- **답변 좋아요 기능**: Gemini/GPT 답변에 좋아요 기능 추가
  - `modu_answer_likes` 테이블 생성 (마이그레이션)
  - `app/api/answer-like/route.ts` API 엔드포인트 추가
  - `components/board/QuestionModal.tsx`에 좋아요 버튼 및 카운트 표시
- **답변 전체 화면 보기**: 답변 섹션 클릭 시 전체 화면 모드
  - `fullscreenAnswer` 상태로 개별 답변 전체 화면 표시
  - 로고/이름 클릭 또는 ESC 키로 복귀
- **답변 블러 처리**: 모달 열릴 때 답변을 블러 처리하고 "답변보기" 버튼 추가
  - `showAnswers` 상태로 답변 표시 제어
  - Expert Answer는 블러 처리하지 않음
- **Navbar 개선**: 데스크톱 메뉴에서 로그인 버튼 제거

## [2024-12-19]
- **Novel.sh 기반 블로그 에디터 구현**: Novel.sh 라이브러리를 사용한 리치 텍스트 에디터 구현 완료
  - Tiptap 기반 에디터 설정 (StarterKit, Image, Link, YouTube 확장)
  - 이미지 리사이즈 기능 구현 (드래그로 크기 조절, Shift+드래그로 비율 유지)
  - 에디터 테스트 페이지 생성 (`/editor-test`)
- **슬래시 커맨드 메뉴 구현**: Notion 스타일의 슬래시(`/`) 커맨드 메뉴 구현
  - Novel.sh의 `Command` 확장 및 `EditorCommand` 컴포넌트 통합
  - 제목 1/2/3, 글머리 기호, 번호 목록, 인용, 코드 블록, 이미지, 링크, YouTube 옵션 제공
  - `renderItems` 함수를 사용한 커맨드 메뉴 렌더링
- **텍스트 선택 포맷팅 메뉴 구현**: 텍스트 드래그 시 나타나는 포맷팅 서브 메뉴 구현
  - Novel.sh의 `EditorBubble` 컴포넌트 사용
  - 굵게, 기울임, 밑줄, 취소선, 인라인 코드, 링크 포맷팅 옵션 제공
  - `@tiptap/extension-underline` 확장 추가
- **Next.js 16 업그레이드**: Next.js 14에서 16으로 업그레이드 완료
  - React 19로 업그레이드
  - Turbopack 설정 추가
  - ESLint 버전 충돌 해결
- **의존성 설치 및 취약점 수정**: 새 PC 환경에서 모든 의존성 설치 및 취약점 수정 완료
